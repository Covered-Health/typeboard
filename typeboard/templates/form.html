{% extends "base.html" %}
{% block content %}
<h1>{% if mode == "create" %}New{% else %}Edit{% endif %} {{ resource.name | replace("_", " ") | title }}</h1>

{% if errors %}
<article aria-label="Errors">
    <ul>
        {% for error in errors %}
        <li class="field-error">{{ error }}</li>
        {% endfor %}
    </ul>
</article>
{% endif %}

<form method="post">
    {% for field in fields %}
    {% if not field.hidden %}
    {% include "_field.html" %}
    {% endif %}
    {% endfor %}

    <div class="actions">
        <button type="submit">{% if mode == "create" %}Create{% else %}Save{% endif %}</button>
        {% if resource.list_fn %}
        <a href="{{ base_path }}/{{ resource.name }}/" role="button" class="outline">Cancel</a>
        {% endif %}
    </div>
</form>
{% endblock %}
