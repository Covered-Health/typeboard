<label>
    {{ field.label }}{% if field.required %} *{% endif %}
    {% if field.widget == "textarea" %}
    <textarea name="{{ field.name }}" {% if field.read_only %}disabled{% endif %}>{{ values.get(field.name, field.default or '') }}</textarea>
    {% elif field.widget == "checkbox" %}
    <input type="checkbox" name="{{ field.name }}" role="switch"
           {% if values.get(field.name, field.default) %}checked{% endif %}
           {% if field.read_only %}disabled{% endif %}>
    {% elif field.widget == "number" %}
    <input type="number" name="{{ field.name }}" value="{{ values.get(field.name, field.default or '') }}"
           {% if field.read_only %}disabled{% endif %} {% if field.required %}required{% endif %}>
    {% elif field.widget == "date" %}
    <input type="date" name="{{ field.name }}" value="{{ values.get(field.name, field.default or '') }}"
           {% if field.read_only %}disabled{% endif %} {% if field.required %}required{% endif %}>
    {% elif field.widget == "datetime" %}
    <input type="datetime-local" name="{{ field.name }}" value="{{ values.get(field.name, field.default or '') }}"
           {% if field.read_only %}disabled{% endif %} {% if field.required %}required{% endif %}>
    {% elif field.widget == "select" %}
    <select name="{{ field.name }}" {% if field.read_only %}disabled{% endif %} {% if field.required %}required{% endif %}>
        {% if not field.required %}<option value="">---</option>{% endif %}
        {% if field.enum_choices %}
        {% for value, label in field.enum_choices %}
        <option value="{{ value }}" {% if values.get(field.name) == value %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
        {% endif %}
    </select>
    {% else %}
    <input type="text" name="{{ field.name }}" value="{{ values.get(field.name, field.default or '') }}"
           {% if field.read_only %}disabled{% endif %} {% if field.required %}required{% endif %}>
    {% endif %}
</label>
